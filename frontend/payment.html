<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E_Commerce_App</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet">
</head>

<body>
    <div class = "container">
        <div class="slides slide2">
            <button class="home-button" onclick="window.location.href='index.html'">
                <img class="home-icon" src="images/hom_image.png" alt="Home">
            </button>
            <div class=" rectangle-2">
                <h1> Choose your Payment Method!!</h1>
            </div>
            <div class="payment-grid">
                <div class="product product1">
                    <img src="images/logo-mbway-1536x960.png" alt="Product 1">
                    <button class = "selectPayment" data-payment-method="MBWay">Select Payment</button>
                </div>

                <div class="product product2">
                    <img src="images/paypall-removebg-preview.png" alt="Product 2">
                    <button class = "selectPayment" data-payment-method="Paypal">Select Payment</button>
                </div>

                <div class="product product3">
                    <img src="images/213724_card_cash_checkout_online shopping_payment method_icon.png" alt="Product 3">
                    <button class = "selectPayment" data-payment-method="Visa">Select Payment</button>
                </div>

            </div>
            <div class="circle1"></div> 
            <div class="circle2"></div>
            <div class="circle3"></div>
        </div>
    </div>


    <script>
        
        const backendUrl = "http://54.160.132.14:5000";
        
        document.addEventListener('DOMContentLoaded', () => {
            const paymentButtons = document.querySelectorAll('.selectPayment');
            paymentButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const paymentMethod = button.getAttribute('data-payment-method');
                    fetch(`${backendUrl}/selectPayment`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ payment_method: paymentMethod })
                    })
                    .then(response => response.json())
                    .then(data => {
                        alert(data.message);
                    })
                    .catch(error => console.error('Error selecting payment:', error));
                });
            });
        });
        
    </script>

</body>
</html>